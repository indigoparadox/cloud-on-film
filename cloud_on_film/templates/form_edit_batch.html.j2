
{% from 'macros.html.j2' import show_form %}

<form id="{{ form_edit_batch_id }}" class="{{ form_edit_batch_class }}">

<div class="d-flex flex-row flex-wrap h-100">
    {# for field in item_form
    <div class="row">
        {{ field.label }}
    </div>
    {% endfor #}

    {% for item_form in form_edit_batch_item.items %}
    <div class="d-flex flex-wrap flex-lg-nowrap my-3">
        <div class="preview mx-auto my-auto">
            <!-- TODO: Get tag from plugin? -->
            <img src="/preview/{{ item_form.data['id'] }}/160/120" />
        </div>
        <div class="flex-fill d-flex flex-wrap">
            {% for field in item_form
                if field.type != 'HiddenField'
                and not 'csrf_token' in field.name|string  %}
            <div class="col-lg-6">
                {{ field.label }}
                {{ field( class_='form-control mx-2' ) }}
            </div>
            {% endfor %}
            {# for field in item_form
                if field.type == 'TextAreaField' }
            <div class="col-lg-6">
                {{ field.label }}
                {{ field( class_='form-control mx-2' ) }}
            </div>
            { endfor #}
        </div>
    </div>
    {% endfor %}
</div>

</form>
